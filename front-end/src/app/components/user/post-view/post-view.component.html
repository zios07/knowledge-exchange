<mat-card class="example-card" *ngIf="!loading">
  <mat-card-header>
    <mat-card-title>{{post.title}}</mat-card-title>
    <mat-card-subtitle>{{post.user?.account.username}}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <p>
      {{post.content}}
    </p>
  </mat-card-content>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="showCommentBox=true">Comment</button>
    <button mat-raised-button [routerLink]="['/messages/send', post.id]">Message</button>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" #commentForm="ngForm" *ngIf="showCommentBox">
      <mat-grid-list cols="1" rowHeight="1:1">
        <mat-grid-tile>
          <mat-form-field>
            <input matInput placeholder="Write your comment" formControlName="comment" />
          </mat-form-field>
        </mat-grid-tile>
      </mat-grid-list>
      <button type="submit" [disabled]="!commentForm.form.valid" mat-raised-button color="primary">Save</button>
    </form>
  </mat-card-actions>
</mat-card>